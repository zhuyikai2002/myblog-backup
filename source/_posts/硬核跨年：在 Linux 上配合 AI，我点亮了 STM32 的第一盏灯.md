---
title: 硬核跨年：在 Linux 上配合 AI，我点亮了 STM32 的第一盏灯
date: 2026-01-01 11:30:00
tags: [STM32, Linux, VSCode, EIDE, 嵌入式]
categories: 嵌入式折腾日记
description: 当别人在倒数跨年的时候，我在跟编译器 Battle。在 Linux 环境下使用 VS Code + EIDE，配合 AI 辅助，成功点亮了 STM32 的第一盏 LED 灯，体验了纯寄存器操作的魅力，并实现了呼吸灯效果。
---

# 硬核跨年：当别人在倒数，我在跟编译器 Battle

**时间**：2025年12月31日 - 2026年1月1日
**坐标**：Linux 环境 (VS Code)
**装备**：STM32F103C8T6 (Blue Pill) + ST-Link V2 + 酷态科充电宝

当窗外可能还在倒数跨年的时候，我正盯着 VS Code 黑色的终端发愁。

我的朋友李孔朴是个典型的“技术硬核派”，他的一句话把我架到了火上：“代码还是要自己写然后修 Bug，这才能学。”

但作为一个刚刚在 Linux 上搭建嵌入式环境的新手，面前摆着的是一座大山：没有 Keil，没有图形化配置工具，只有 GCC 编译器、OpenOCD 调试器和一堆报错信息。我的目标很简单：**点亮那颗 PC13 上的 LED 灯。**

## 01. 环境地狱：Linux 下的“劝退”时刻

这一晚，我主要的精力都在和报错 Battle。

最大的拦路虎是烧录器的配置。EIDE 默认识别不到 OpenOCD，我在设置里反复横跳，填路径、改配置。好不容易让它认出了 `/usr/bin/openocd`，结果项目又是空的——编译器报错 `No source files`，链接器报错 `cannot open linker script`。

那一刻真的有点想放弃，感觉全世界都在针对我的开发板。但在 AI 的辅助和不断的尝试下，我终于搞定了 `.eide.yml` 的配置，把环境彻底跑通了。

## 02. 借助 AI，体验纯寄存器的魅力

环境搞定后，到了代码环节。

朋友建议我去翻手册、算地址。说实话，对于初学者来说，跨年夜去翻几百页的英文手册实在是太劝退了。**所以我选择了一条“现代捷径”——让 AI 帮我写。**

虽然代码不是我一行行敲的，也没有去查手册核对每一个 Hex 值的来源，但当 AI 把这段纯寄存器操作的代码生成出来时，我还是被震撼了一下：

```c
// 这种直接操作物理地址的感觉，确实很极客
#define RCC_APB2ENR  (*((volatile uint32_t *)0x40021018))
#define GPIOC_CRH    (*((volatile uint32_t *)0x40011004))
#define GPIOC_ODR    (*((volatile uint32_t *)0x4001100C))
```

## 03. 从“点亮”到“把玩”：修改频率与呼吸灯

第一次点亮后，我并没有满足。看着那盏灯傻傻地一秒一闪，我突然想试试：**我能不能控制它的节奏？**

在 AI 的指导下，我找到了代码里控制延时的那个数字。
把 `500,000` 改成 `2,000,000`，烧录！灯闪烁的节奏立马慢了下来，像是在慵懒地踱步。
把数字改小到 `50,000`，烧录！灯光瞬间开启了“迪厅爆闪模式”。

**这种“改一个数字，硬件立马给出物理反馈”的感觉，太上头了。**

接着，我想玩点高级的——**呼吸灯**。
AI 帮我生成了一段软件模拟 PWM 的代码。虽然我还没完全搞懂里面的 `for` 循环逻辑，但我知道修改 `period` 变量就能改变呼吸的快慢。

我试着把参数调大，让它像深呼吸一样缓慢亮起、熄灭；又试着调小，让它变得急促。在这一刻，虽然代码是 AI 写的，但**控制权**实实在在地握在我手里。

## 04. 00:00:00 的独立运行

最绝的一幕发生在零点（大概是那个时候）。

我拔掉了复杂的 ST-Link 连线，找来一个酷态科充电宝，直接通过 Type-C 接口给开发板供电。

**它亮了。**


不需要电脑，不需要调试器，它依靠着我刚刚烧录进去的代码（哪怕是 AI 写的），独立地在那里“呼吸”着。

看着那幽蓝的光在黑暗中律动，我手里握着的不再是一块冰冷的电路板，而是一个有了“灵魂”的独立电子设备。那一刻的成就感，比跑通任何软件 Hello World 都要强。

## 05. 尾声

这一晚，我搞定了 Linux 权限，驯服了 GCC，验证了这一整套开源开发环境的可行性。

虽然朋友说我是“AI 辅助造车”，但重要的是，**车跑起来了，而且方向盘在我手里。** 原理可以明天再学，手册可以明天再翻，但今晚“从 0 到 1”的快乐是真实的。

你好，2026。
你好，嵌入式世界。

**Next Step:** 起床干活，面包板流水灯，开搞！🚦