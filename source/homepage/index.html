<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rik@QZKJ:~$</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #0a0e14;
            color: #b3b1ad;
            font-family: 'Fira Code', 'Cascadia Code', 'Consolas', 'Monaco', monospace;
            font-size: 16px;
            line-height: 1.6;
            overflow: hidden;
        }

        #terminal {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            padding: 20px;
            overflow-y: auto;
            background: #0a0e14;
        }

        #output {
            margin-bottom: 10px;
        }

        .line {
            margin: 4px 0;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .prompt {
            color: #39bae6;
            font-weight: bold;
        }

        .path {
            color: #59c2ff;
        }

        .dollar {
            color: #ffb454;
        }

        .command {
            color: #95e6cb;
        }

        .output-text {
            color: #b3b1ad;
        }

        .error {
            color: #ff3333;
        }

        .success {
            color: #c2d94c;
        }

        .link {
            color: #59c2ff;
            text-decoration: underline;
            cursor: pointer;
        }

        #input-line {
            display: flex;
            align-items: baseline;
        }

        #user-input {
            flex: 1;
            background: transparent;
            border: none;
            outline: none;
            color: #95e6cb;
            font-family: inherit;
            font-size: inherit;
            caret-color: #00ff41;
            padding: 0;
            margin-left: 8px;
        }

        .cursor {
            display: inline-block;
            width: 8px;
            height: 18px;
            background: #00ff41;
            animation: blink 1s infinite;
            margin-left: 2px;
        }

        @keyframes blink {
            0%, 49% { opacity: 1; }
            50%, 100% { opacity: 0; }
        }

        .ascii-art {
            color: #00ff41;
            font-size: 12px;
            line-height: 1.2;
            margin: 20px 0;
        }

        .help-table {
            margin: 10px 0;
            color: #b3b1ad;
        }

        .help-cmd {
            color: #c2d94c;
            display: inline-block;
            min-width: 120px;
        }

        .autocomplete {
            position: absolute;
            background: #1a1f29;
            border: 1px solid #39bae6;
            padding: 5px 10px;
            color: #59c2ff;
            font-size: 14px;
            display: none;
            z-index: 100;
        }
    </style>
</head>
<body>
    <div id="terminal">
        <div id="output"></div>
        <div id="input-line">
            <span class="prompt">rik@qzkj</span><span class="path">:~</span><span class="dollar">$</span>
            <input type="text" id="user-input" autofocus autocomplete="off" spellcheck="false">
        </div>
    </div>
    <div id="autocomplete" class="autocomplete"></div>

    <script>
        const output = document.getElementById('output');
        const input = document.getElementById('user-input');
        const inputLine = document.getElementById('input-line');
        const autocompleteEl = document.getElementById('autocomplete');

        let commandHistory = [];
        let historyIndex = -1;

        const COMMANDS = {
            'help': { desc: 'æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯', action: showHelp },
            'ls': { desc: 'åˆ—å‡ºå¯ç”¨ç›®å½•', action: listDirs },
            'cd': { desc: 'cd <ç›®å½•> - è¿›å…¥ç›®å½•', action: changeDir },
            'about': { desc: 'æŸ¥çœ‹ç®€å†', action: () => navigate('/about/') },
            'blog': { desc: 'è¿›å…¥åšå®¢', action: () => navigate('/blog/') },
            'lab': { desc: 'è¿›å…¥å®éªŒå®¤', action: () => navigate('/lab/') },
            'resume': { desc: 'æ‰“å¼€ç®€å†ç¼–è¾‘å™¨', action: () => navigate('/blog/lab/resume/') },
            'contact': { desc: 'æ˜¾ç¤ºè”ç³»æ–¹å¼', action: showContact },
            'git': { desc: 'git status - æ˜¾ç¤ºæœ€æ–°æ–‡ç« ', action: gitStatus },
            'clear': { desc: 'æ¸…å±', action: clearScreen },
            'whoami': { desc: 'æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯', action: whoami },
            'neofetch': { desc: 'æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯', action: neofetch }
        };

        const DIRS = ['/blog', '/lab', '/about'];

        function addLine(content, className = 'output-text') {
            const line = document.createElement('div');
            line.className = 'line ' + className;
            line.innerHTML = content;
            output.appendChild(line);
            scrollToBottom();
        }

        function scrollToBottom() {
            terminal.scrollTop = terminal.scrollHeight;
        }

        function showWelcome() {
            const ascii = `
    ____  _ __   _    ____  ____  __ ______
   / __ \\(_) /__( )  / __ \\/_  / / //_/ / /
  / /_/ / / //_|/  / /_/ / / /_/ ,< / / / 
 / _, _/ / ,<     / ____/ /___/ /| / /_/ /  
/_/ |_/_/_/|_|   /_/    /____/_/ |_\\____/   
                                            
<span class="success">Welcome to Rik's Workspace</span>
<span style="color:#8b949e">Linux / Embedded System / Geek Life</span>

è¾“å…¥ <span class="command">help</span> æŸ¥çœ‹å¯ç”¨å‘½ä»¤
è¾“å…¥ <span class="command">ls</span> æŸ¥çœ‹å¯ç”¨ç›®å½•
è¾“å…¥ <span class="command">cd /blog</span> è¿›å…¥åšå®¢
`;
            addLine(ascii, 'ascii-art');
        }

        function showHelp() {
            let help = '<div class="help-table">';
            help += '<span class="success">å¯ç”¨å‘½ä»¤ï¼š</span><br><br>';
            for (const [cmd, info] of Object.entries(COMMANDS)) {
                help += `<span class="help-cmd">${cmd}</span> - ${info.desc}<br>`;
            }
            help += '<br><span style="color:#8b949e">æç¤ºï¼šä½¿ç”¨ Tab é”®è‡ªåŠ¨è¡¥å…¨å‘½ä»¤</span>';
            help += '</div>';
            addLine(help);
        }

        function listDirs() {
            let list = '<span class="success">å¯ç”¨ç›®å½•ï¼š</span><br><br>';
            DIRS.forEach(dir => {
                const desc = dir === '/blog' ? 'æŠ€æœ¯åšå®¢' : dir === '/lab' ? 'å®éªŒå®¤' : 'ä¸ªäººç®€å†';
                list += `<span class="link" onclick="navigate('${dir}/')">${dir}/</span>  - ${desc}<br>`;
            });
            list += '<br><span style="color:#8b949e">ä½¿ç”¨ cd <ç›®å½•> è¿›å…¥</span>';
            addLine(list);
        }

        function changeDir(args) {
            if (!args || args.trim() === '') {
                addLine('<span class="error">ç”¨æ³•: cd &lt;ç›®å½•&gt;</span>');
                addLine('å¯ç”¨ç›®å½•: ' + DIRS.join(', '));
                return;
            }
            
            let dir = args.trim();
            if (!dir.startsWith('/')) dir = '/' + dir;
            if (!dir.endsWith('/')) dir += '/';
            
            if (DIRS.includes(dir.replace(/\/$/, ''))) {
                navigate(dir);
            } else {
                addLine(`<span class="error">bash: cd: ${dir}: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•</span>`);
                addLine('å¯ç”¨ç›®å½•: ' + DIRS.join(', '));
            }
        }

        function navigate(url) {
            addLine(`<span class="success">æ­£åœ¨è·³è½¬åˆ° ${url}...</span>`);
            setTimeout(() => {
                window.location.href = url;
            }, 500);
        }

        function clearScreen() {
            output.innerHTML = '';
        }

        function whoami() {
            addLine('<span class="success">Rik</span>');
            addLine('ç¡¬ä»¶æµ‹è¯•å·¥ç¨‹å¸ˆ / Linux æ¡Œé¢ç”¨æˆ· / åµŒå…¥å¼çˆ±å¥½è€…');
        }

        function neofetch() {
            const info = `
<span class="success">rik</span>@<span class="success">qzkj.ltd</span>
--------------------
<span style="color:#59c2ff">OS:</span>        Debian GNU/Linux
<span style="color:#59c2ff">Host:</span>      RackNerd VPS
<span style="color:#59c2ff">Kernel:</span>    Linux 5.10
<span style="color:#59c2ff">Shell:</span>     bash
<span style="color:#59c2ff">Blog:</span>      Hexo + Butterfly
<span style="color:#59c2ff">Skills:</span>    Linux, STM32, Nginx, CI/CD
`;
            addLine(info);
        }

        function showContact() {
            const contact = `
<span class="success">ğŸ“® è”ç³»æ–¹å¼</span>
--------------------
<span style="color:#59c2ff">ğŸ“ æ‰‹æœº:</span>    17730150471
<span style="color:#59c2ff">âœ‰ï¸  é‚®ç®±:</span>    zhuyikai2002@163.com
<span style="color:#59c2ff">ğŸ™ GitHub:</span>  <span class="link" onclick="window.open('https://github.com/zhuyikai2002')">github.com/zhuyikai2002</span>
<span style="color:#59c2ff">ğŸ“ åœ°å€:</span>    ä¸Šæµ· (å¯è¿å¾€å…¶ä»–åŸå¸‚)
<span style="color:#59c2ff">ğŸ’¼ ç®€å†:</span>    <span class="link" onclick="navigate('/about/')">åœ¨çº¿æŸ¥çœ‹</span> | <span class="link" onclick="navigate('/blog/lab/resume/')">åœ¨çº¿ç¼–è¾‘</span>
`;
            addLine(contact);
        }

        function gitStatus() {
            const articles = `
<span class="success">ğŸ“ æœ€æ–°æ–‡ç«  (Latest Posts)</span>
--------------------
<span style="color:#c2d94c">â—</span> <span class="link" onclick="window.location.href='/blog/2026/01/20/2026-01-20-æˆ‘åŸæœ¬åªæ˜¯æƒ³å†™ä¸ªç®€å†ï¼Œç»“æœé¡ºæ‰‹é‡æ„äº†æ•´ä¸ªç½‘ç«™/'">æˆ‘åŸæœ¬åªæ˜¯æƒ³å†™ä¸ªç®€å†ï¼Œç»“æœé¡ºæ‰‹é‡æ„äº†æ•´ä¸ªç½‘ç«™</span>
  <span style="color:#8b949e">2026-01-20 | å·¥å…·å¼€å‘ã€ç½‘ç«™æ¶æ„ä¼˜åŒ–</span>

<span style="color:#c2d94c">â—</span> <span class="link" onclick="window.location.href='/blog/2026/01/17/2026-01-17-æŒ‰ä¸‹æš‚åœé”®ï¼šä»ç§‘äºŒæŒ‚ç§‘çš„çœ¼æ³ªï¼Œåˆ°æç½®æ™ºèƒ½éŸ³ç®±é¡¹ç›®/'">æŒ‰ä¸‹æš‚åœé”®ï¼šä»ç§‘äºŒæŒ‚ç§‘çš„çœ¼æ³ªï¼Œåˆ°æç½®æ™ºèƒ½éŸ³ç®±é¡¹ç›®</span>
  <span style="color:#8b949e">2026-01-17 | ç”Ÿæ´»éšç¬”ã€é¡¹ç›®è§„åˆ’</span>

<span style="color:#c2d94c">â—</span> <span class="link" onclick="window.location.href='/blog/2026/01/10/2026-01-10-å¦¥åä¸è¿›åŒ–ï¼Œç»“æ„å¤§æ”¹ç‰ˆï¼/'">å¦¥åä¸è¿›åŒ–ï¼Œç»“æ„å¤§æ”¹ç‰ˆï¼</span>
  <span style="color:#8b949e">2026-01-10 | åšå®¢ä¼˜åŒ–</span>

<span style="color:#8b949e">è¾“å…¥ <span class="command">cd /blog</span> æŸ¥çœ‹æ‰€æœ‰æ–‡ç« </span>
`;
            addLine(articles);
        }

        function processCommand(cmd) {
            if (!cmd.trim()) return;

            // æ˜¾ç¤ºç”¨æˆ·è¾“å…¥
            addLine(`<span class="prompt">rik@qzkj</span><span class="path">:~</span><span class="dollar">$</span> <span class="command">${escapeHtml(cmd)}</span>`);

            commandHistory.unshift(cmd);
            historyIndex = -1;

            const parts = cmd.trim().split(/\s+/);
            const command = parts[0].toLowerCase();
            const args = parts.slice(1).join(' ');

            // å¤„ç† git status ç‰¹æ®Šå‘½ä»¤
            if (command === 'git' && args.toLowerCase() === 'status') {
                gitStatus();
                return;
            }

            if (COMMANDS[command]) {
                if (command === 'cd') {
                    COMMANDS[command].action(args);
                } else {
                    COMMANDS[command].action();
                }
            } else {
                addLine(`<span class="error">bash: ${escapeHtml(command)}: æœªæ‰¾åˆ°å‘½ä»¤</span>`);
                addLine('è¾“å…¥ <span class="command">help</span> æŸ¥çœ‹å¯ç”¨å‘½ä»¤');
            }
        }

        function escapeHtml(text) {
            const map = { '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#039;' };
            return text.replace(/[&<>"']/g, m => map[m]);
        }

        function autocomplete(partial) {
            const matches = Object.keys(COMMANDS).filter(cmd => cmd.startsWith(partial));
            
            if (matches.length === 1) {
                input.value = matches[0];
                return true;
            } else if (matches.length > 1) {
                showAutocomplete(matches);
                return false;
            }
            return false;
        }

        function showAutocomplete(matches) {
            autocompleteEl.textContent = matches.join('  ');
            autocompleteEl.style.display = 'block';
            const rect = input.getBoundingClientRect();
            autocompleteEl.style.left = rect.left + 'px';
            autocompleteEl.style.top = (rect.bottom + 5) + 'px';
        }

        function hideAutocomplete() {
            autocompleteEl.style.display = 'none';
        }

        // äº‹ä»¶ç›‘å¬
        input.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                hideAutocomplete();
                processCommand(input.value);
                input.value = '';
            } else if (e.key === 'Tab') {
                e.preventDefault();
                const partial = input.value.trim();
                if (partial) {
                    autocomplete(partial);
                }
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                if (historyIndex < commandHistory.length - 1) {
                    historyIndex++;
                    input.value = commandHistory[historyIndex];
                }
            } else if (e.key === 'ArrowDown') {
                e.preventDefault();
                if (historyIndex > 0) {
                    historyIndex--;
                    input.value = commandHistory[historyIndex];
                } else if (historyIndex === 0) {
                    historyIndex = -1;
                    input.value = '';
                }
            } else {
                hideAutocomplete();
            }
        });

        // ç‚¹å‡»ä»»æ„å¤„èšç„¦è¾“å…¥æ¡†
        document.addEventListener('click', () => {
            input.focus();
        });

        // é˜»æ­¢å³é”®èœå•
        document.addEventListener('contextmenu', (e) => {
            e.preventDefault();
        });

        // å…¨å±€å¿«æ·é”®ï¼šESC é”®åˆ·æ–°é¡µé¢ï¼ˆé‡ç½®ç»ˆç«¯ï¼‰
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                location.reload();
            }
        });

        // åˆå§‹åŒ–
        showWelcome();
        input.focus();
    </script>
</body>
</html>
